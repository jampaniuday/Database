mysql> use mysql;
Database changed
mysql> SHOW TABLES;
+---------------------------+
| Tables_in_mysql           |
+---------------------------+
| animals                   |
| columns_priv              |
| component                 |
| db                        |
| default_roles             |
| engine_cost               |
| func                      |
| general_log               |
| global_grants             |
| gtid_executed             |
| help_category             |
| help_keyword              |
| help_relation             |
| help_topic                |
| innodb_index_stats        |
| innodb_table_stats        |
| password_history          |
| plugin                    |
| procs_priv                |
| proxies_priv              |
| role_edges                |
| server_cost               |
| servers                   |
| slave_master_info         |
| slave_relay_log_info      |
| slave_worker_info         |
| slow_log                  |
| tables_priv               |
| time_zone                 |
| time_zone_leap_second     |
| time_zone_name            |
| time_zone_transition      |
| time_zone_transition_type |
| user                      |
+---------------------------+
34 rows in set (0.01 sec)


mysql> use world;
Database changed

mysql> SHOW TABLES;
+-----------------+
| Tables_in_world |
+-----------------+
| animals         |
| city            |
| country         |
| countrylanguage |
| employee_tbl    |
| entries2        |
| grades          |
| person          |
| products        |
| salesdetail     |
| salesdetail2    |
| shirt           |
| shop            |
| students        |
| subjects        |
| tcount_tbl      |
| teachers        |
| user_login      |
+-----------------+
18 rows in set (0.00 sec)

mysql>
mysql> SHOW COLUMNS FROM world.students;
+---------+-------------+------+-----+---------+-------+
| Field   | Type        | Null | Key | Default | Extra |
+---------+-------------+------+-----+---------+-------+
| sid     | int(11)     | NO   | PRI | NULL    |       |
| name    | text        | NO   |     | NULL    |       |
| address | varchar(80) | NO   |     | NULL    |       |
+---------+-------------+------+-----+---------+-------+
3 rows in set (0.00 sec)

mysql>
mysql> SHOW INDEX FROM  world.students;
+----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
| Table    | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment | Visible | Expression |
+----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
| students |          0 | PRIMARY  |            1 | sid         | A         |          11 |     NULL |   NULL |      | BTREE      |         |               | YES     | NULL       |
+----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
1 row in set (0.04 sec)


mysql> SHOW TABLE STATUS FROM world;
+-----------------+--------+---------+------------+------+----------------+-------------+-----------------+--------------+-----------+----------------+---------------------+---------------------+------------+--------------------+----------+----------------+---------+
| Name            | Engine | Version | Row_format | Rows | Avg_row_length | Data_length | Max_data_length | Index_length | Data_free | Auto_increment | Create_time         | Update_time         | Check_time | Collation          | Checksum | Create_options | Comment |
+-----------------+--------+---------+------------+------+----------------+-------------+-----------------+--------------+-----------+----------------+---------------------+---------------------+------------+--------------------+----------+----------------+---------+
| animals         | InnoDB |      10 | Dynamic    |    8 |           2048 |       16384 |               0 |            0 |         0 |            102 | 2018-11-13 21:32:35 | 2018-11-13 21:33:53 | NULL       | utf8mb4_0900_ai_ci |     NULL |                |         |
| city            | InnoDB |      10 | Dynamic    | 4188 |             97 |      409600 |               0 |       131072 |         0 |           4080 | 2018-11-07 12:35:28 | 2018-11-07 12:35:29 | NULL       | latin1_swedish_ci  |     NULL |                |         |
| country         | InnoDB |      10 | Dynamic    |  239 |            411 |       98304 |               0 |            0 |         0 |           NULL | 2018-11-07 12:35:29 | 2018-11-07 12:35:29 | NULL       | latin1_swedish_ci  |     NULL |                |         |
| countrylanguage | InnoDB |      10 | Dynamic    |  984 |             99 |       98304 |               0 |        65536 |         0 |           NULL | 2018-11-07 12:35:29 | 2018-11-07 12:35:29 | NULL       | latin1_swedish_ci  |     NULL |                |         |
| employee_tbl    | InnoDB |      10 | Dynamic    |    6 |           2730 |       16384 |               0 |            0 |         0 |           NULL | 2018-11-14 13:29:46 | 2018-11-14 13:30:36 | NULL       | utf8_general_ci    |     NULL |                |         |
| entries2        | InnoDB |      10 | Dynamic    |    3 |           5461 |       16384 |               0 |            0 |         0 |              4 | 2018-11-14 13:46:27 | 2018-11-14 13:54:58 | NULL       | utf8_general_ci    |     NULL |                |         |
| grades          | InnoDB |      10 | Dynamic    |    7 |           2340 |       16384 |               0 |            0 |         0 |           NULL | 2018-11-13 12:54:41 | 2018-11-13 12:56:00 | NULL       | utf8mb4_0900_ai_ci |     NULL |                |         |
| person          | InnoDB |      10 | Dynamic    |    2 |           8192 |       16384 |               0 |            0 |         0 |              3 | 2018-11-13 21:27:39 | 2018-11-13 21:28:42 | NULL       | utf8mb4_0900_ai_ci |     NULL |                |         |
| products        | InnoDB |      10 | Dynamic    |    5 |           3276 |       16384 |               0 |            0 |         0 |           1006 | 2018-11-08 09:43:47 | 2018-11-08 09:51:01 | NULL       | utf8mb4_0900_ai_ci |     NULL |                |         |
| salesdetail     | InnoDB |      10 | Dynamic    |   22 |            744 |       16384 |               0 |            0 |         0 |           NULL | 2018-11-13 15:39:23 | 2018-11-13 15:46:11 | NULL       | utf8_general_ci    |     NULL |                |         |
| salesdetail2    | InnoDB |      10 | Dynamic    |    0 |              0 |       16384 |               0 |            0 |         0 |           NULL | 2018-11-13 15:44:49 | NULL                | NULL       | utf8_general_ci    |     NULL |                |         |
| shirt           | InnoDB |      10 | Dynamic    |    7 |           2340 |       16384 |               0 |            0 |         0 |              8 | 2018-11-13 21:27:50 | 2018-11-13 21:28:42 | NULL       | utf8mb4_0900_ai_ci |     NULL |                |         |
| shop            | InnoDB |      10 | Dynamic    |    7 |           2340 |       16384 |               0 |            0 |         0 |           NULL | 2018-11-13 21:01:31 | 2018-11-13 21:01:32 | NULL       | utf8mb4_0900_ai_ci |     NULL |                |         |
| students        | InnoDB |      10 | Dynamic    |   11 |           1489 |       16384 |               0 |            0 |         0 |           NULL | 2018-11-13 13:41:45 | 2018-11-13 15:03:04 | NULL       | utf8mb4_0900_ai_ci |     NULL |                |         |
| subjects        | InnoDB |      10 | Dynamic    |    3 |           5461 |       16384 |               0 |            0 |         0 |           NULL | 2018-11-13 12:54:41 | 2018-11-13 12:55:45 | NULL       | utf8mb4_0900_ai_ci |     NULL |                |         |
| tcount_tbl      | InnoDB |      10 | Dynamic    |    6 |           2730 |       16384 |               0 |            0 |         0 |           NULL | 2018-11-13 16:13:13 | 2018-11-13 16:22:56 | NULL       | utf8mb4_0900_ai_ci |     NULL |                |         |
| teachers        | InnoDB |      10 | Dynamic    |    4 |           4096 |       16384 |               0 |            0 |         0 |           NULL | 2018-11-13 12:54:41 | 2018-11-13 12:55:18 | NULL       | utf8mb4_0900_ai_ci |     NULL |                |         |
| user_login      | InnoDB |      10 | Dynamic    |   21 |            780 |       16384 |               0 |            0 |         0 |           NULL | 2018-11-14 13:12:54 | 2018-11-14 11:07:12 | NULL       | utf8mb4_0900_ai_ci |     NULL |                |         |
+-----------------+--------+---------+------------+------+----------------+-------------+-----------------+--------------+-----------+----------------+---------------------+---------------------+------------+--------------------+----------+----------------+---------+
18 rows in set (0.14 sec)



mysql> SHOW TABLE STATUS FROM mysql;
+---------------------------+--------+---------+------------+------+----------------+-------------+-----------------+--------------+-----------+----------------+---------------------+---------------------+------------+--------------------+----------+---------------------------------------+-----------------------------------------+
| Name                      | Engine | Version | Row_format | Rows | Avg_row_length | Data_length | Max_data_length | Index_length | Data_free | Auto_increment | Create_time         | Update_time         | Check_time | Collation          | Checksum | Create_options                        | Comment                                 |
+---------------------------+--------+---------+------------+------+----------------+-------------+-----------------+--------------+-----------+----------------+---------------------+---------------------+------------+--------------------+----------+---------------------------------------+-----------------------------------------+
| animals                   | InnoDB |      10 | Dynamic    |    6 |           2730 |       16384 |               0 |            0 |         0 |              7 | 2018-11-13 21:33:16 | 2018-11-13 21:33:16 | NULL       | utf8mb4_0900_ai_ci |     NULL |                                       |                                         |
| columns_priv              | InnoDB |      10 | Dynamic    |    0 |              0 |       16384 |               0 |            0 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_bin           |     NULL | stats_persistent=0                    | Column privileges                       |
| component                 | InnoDB |      10 | Dynamic    |    0 |              0 |       16384 |               0 |            0 |   4194304 |              1 | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_general_ci    |     NULL |                                       | Components                              |
| db                        | InnoDB |      10 | Dynamic    |    2 |           8192 |       16384 |               0 |        16384 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_bin           |     NULL | stats_persistent=0                    | Database privileges                     |
| default_roles             | InnoDB |      10 | Dynamic    |    0 |              0 |       16384 |               0 |            0 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_bin           |     NULL | stats_persistent=0                    | Default roles                           |
| engine_cost               | InnoDB |      10 | Dynamic    |    2 |           8192 |       16384 |               0 |            0 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_general_ci    |     NULL | stats_persistent=0                    |                                         |
| func                      | InnoDB |      10 | Dynamic    |    0 |              0 |       16384 |               0 |            0 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_bin           |     NULL | stats_persistent=0                    | User defined functions                  |
| general_log               | CSV    |      10 | Dynamic    |    1 |              0 |           0 |               0 |            0 |         0 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_general_ci    |     NULL |                                       | General log                             |
| global_grants             | InnoDB |      10 | Dynamic    |   15 |           1092 |       16384 |               0 |            0 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_bin           |     NULL | stats_persistent=0                    | Extended global grants                  |
| gtid_executed             | InnoDB |      10 | Dynamic    |    0 |              0 |       16384 |               0 |            0 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8mb4_0900_ai_ci |     NULL |                                       |                                         |
| help_category             | InnoDB |      10 | Dynamic    |   40 |            409 |       16384 |               0 |        16384 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_general_ci    |     NULL | stats_persistent=0                    | help categories                         |
| help_keyword              | InnoDB |      10 | Dynamic    |  586 |            167 |       98304 |               0 |        81920 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_general_ci    |     NULL | stats_persistent=0                    | help keywords                           |
| help_relation             | InnoDB |      10 | Dynamic    |  993 |             82 |       81920 |               0 |            0 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_general_ci    |     NULL | stats_persistent=0                    | keyword-topic relation                  |
| help_topic                | InnoDB |      10 | Dynamic    |  701 |           2267 |     1589248 |               0 |        81920 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_general_ci    |     NULL | stats_persistent=0                    | help topics                             |
| innodb_index_stats        | InnoDB |      10 | Dynamic    |  321 |            204 |       65536 |               0 |            0 |   4194304 |           NULL | 2018-11-07 11:33:26 | 2018-11-14 13:54:58 | NULL       | utf8_bin           |     NULL | row_format=DYNAMIC stats_persistent=0 |                                         |
| innodb_table_stats        | InnoDB |      10 | Dynamic    |   50 |            327 |       16384 |               0 |            0 |   4194304 |           NULL | 2018-11-07 11:33:26 | 2018-11-14 13:54:58 | NULL       | utf8_bin           |     NULL | row_format=DYNAMIC stats_persistent=0 |                                         |
| password_history          | InnoDB |      10 | Dynamic    |    0 |              0 |       16384 |               0 |            0 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_bin           |     NULL | stats_persistent=0                    | Password history for user accounts      |
| plugin                    | InnoDB |      10 | Dynamic    |    0 |              0 |       16384 |               0 |            0 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_general_ci    |     NULL | stats_persistent=0                    | MySQL plugins                           |
| procs_priv                | InnoDB |      10 | Dynamic    |    0 |              0 |       16384 |               0 |        16384 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_bin           |     NULL | stats_persistent=0                    | Procedure privileges                    |
| proxies_priv              | InnoDB |      10 | Dynamic    |    1 |          16384 |       16384 |               0 |        16384 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_bin           |     NULL | stats_persistent=0                    | User proxy privileges                   |
| role_edges                | InnoDB |      10 | Dynamic    |    0 |              0 |       16384 |               0 |            0 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_bin           |     NULL | stats_persistent=0                    | Role hierarchy and role grants          |
| server_cost               | InnoDB |      10 | Dynamic    |    6 |           2730 |       16384 |               0 |            0 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_general_ci    |     NULL | stats_persistent=0                    |                                         |
| servers                   | InnoDB |      10 | Dynamic    |    0 |              0 |       16384 |               0 |            0 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_general_ci    |     NULL | stats_persistent=0                    | MySQL Foreign Servers table             |
| slave_master_info         | InnoDB |      10 | Dynamic    |    0 |              0 |       16384 |               0 |            0 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_general_ci    |     NULL | stats_persistent=0                    | Master Information                      |
| slave_relay_log_info      | InnoDB |      10 | Dynamic    |    0 |              0 |       16384 |               0 |            0 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_general_ci    |     NULL | stats_persistent=0                    | Relay Log Information                   |
| slave_worker_info         | InnoDB |      10 | Dynamic    |    0 |              0 |       16384 |               0 |            0 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_general_ci    |     NULL | stats_persistent=0                    | Worker Information                      |
| slow_log                  | CSV    |      10 | Dynamic    |    2 |              0 |           0 |               0 |            0 |         0 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_general_ci    |     NULL |                                       | Slow log                                |
| tables_priv               | InnoDB |      10 | Dynamic    |    2 |           8192 |       16384 |               0 |        16384 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_bin           |     NULL | stats_persistent=0                    | Table privileges                        |
| time_zone                 | InnoDB |      10 | Dynamic    |    0 |              0 |       16384 |               0 |            0 |   4194304 |              1 | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_general_ci    |     NULL | stats_persistent=0                    | Time zones                              |
| time_zone_leap_second     | InnoDB |      10 | Dynamic    |    0 |              0 |       16384 |               0 |            0 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_general_ci    |     NULL | stats_persistent=0                    | Leap seconds information for time zones |
| time_zone_name            | InnoDB |      10 | Dynamic    |    0 |              0 |       16384 |               0 |            0 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_general_ci    |     NULL | stats_persistent=0                    | Time zone names                         |
| time_zone_transition      | InnoDB |      10 | Dynamic    |    0 |              0 |       16384 |               0 |            0 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_general_ci    |     NULL | stats_persistent=0                    | Time zone transitions                   |
| time_zone_transition_type | InnoDB |      10 | Dynamic    |    0 |              0 |       16384 |               0 |            0 |   4194304 |           NULL | 2018-11-07 12:33:29 | NULL                | NULL       | utf8_general_ci    |     NULL | stats_persistent=0                    | Time zone transition types              |
| user                      | InnoDB |      10 | Dynamic    |    4 |           4096 |       16384 |               0 |            0 |   4194304 |           NULL | 2018-11-07 12:33:29 | 2018-11-07 12:33:37 | NULL       | utf8_bin           |     NULL | stats_persistent=0                    | Users and global privileges             |
+---------------------------+--------+---------+------------+------+----------------+-------------+-----------------+--------------+-----------+----------------+---------------------+---------------------+------------+--------------------+----------+---------------------------------------+-----------------------------------------+
34 rows in set (0.11 sec)

mysql>
mysql> SHOW TABLE STATUS FROM world;
+-----------------+--------+---------+------------+------+----------------+-------------+-----------------+--------------+-----------+----------------+---------------------+---------------------+------------+--------------------+----------+----------------+---------+
| Name            | Engine | Version | Row_format | Rows | Avg_row_length | Data_length | Max_data_length | Index_length | Data_free | Auto_increment | Create_time         | Update_time         | Check_time | Collation          | Checksum | Create_options | Comment |
+-----------------+--------+---------+------------+------+----------------+-------------+-----------------+--------------+-----------+----------------+---------------------+---------------------+------------+--------------------+----------+----------------+---------+
| animals         | InnoDB |      10 | Dynamic    |    8 |           2048 |       16384 |               0 |            0 |         0 |            102 | 2018-11-13 21:32:35 | 2018-11-13 21:33:53 | NULL       | utf8mb4_0900_ai_ci |     NULL |                |         |
| city            | InnoDB |      10 | Dynamic    | 4188 |             97 |      409600 |               0 |       131072 |         0 |           4080 | 2018-11-07 12:35:28 | 2018-11-07 12:35:29 | NULL       | latin1_swedish_ci  |     NULL |                |         |
| country         | InnoDB |      10 | Dynamic    |  239 |            411 |       98304 |               0 |            0 |         0 |           NULL | 2018-11-07 12:35:29 | 2018-11-07 12:35:29 | NULL       | latin1_swedish_ci  |     NULL |                |         |
| countrylanguage | InnoDB |      10 | Dynamic    |  984 |             99 |       98304 |               0 |        65536 |         0 |           NULL | 2018-11-07 12:35:29 | 2018-11-07 12:35:29 | NULL       | latin1_swedish_ci  |     NULL |                |         |
| employee_tbl    | InnoDB |      10 | Dynamic    |    6 |           2730 |       16384 |               0 |            0 |         0 |           NULL | 2018-11-14 13:29:46 | 2018-11-14 13:30:36 | NULL       | utf8_general_ci    |     NULL |                |         |
| entries2        | InnoDB |      10 | Dynamic    |    3 |           5461 |       16384 |               0 |            0 |         0 |              4 | 2018-11-14 13:46:27 | 2018-11-14 13:54:58 | NULL       | utf8_general_ci    |     NULL |                |         |
| grades          | InnoDB |      10 | Dynamic    |    7 |           2340 |       16384 |               0 |            0 |         0 |           NULL | 2018-11-13 12:54:41 | 2018-11-13 12:56:00 | NULL       | utf8mb4_0900_ai_ci |     NULL |                |         |
| person          | InnoDB |      10 | Dynamic    |    2 |           8192 |       16384 |               0 |            0 |         0 |              3 | 2018-11-13 21:27:39 | 2018-11-13 21:28:42 | NULL       | utf8mb4_0900_ai_ci |     NULL |                |         |
| products        | InnoDB |      10 | Dynamic    |    5 |           3276 |       16384 |               0 |            0 |         0 |           1006 | 2018-11-08 09:43:47 | 2018-11-08 09:51:01 | NULL       | utf8mb4_0900_ai_ci |     NULL |                |         |
| salesdetail     | InnoDB |      10 | Dynamic    |   22 |            744 |       16384 |               0 |            0 |         0 |           NULL | 2018-11-13 15:39:23 | 2018-11-13 15:46:11 | NULL       | utf8_general_ci    |     NULL |                |         |
| salesdetail2    | InnoDB |      10 | Dynamic    |    0 |              0 |       16384 |               0 |            0 |         0 |           NULL | 2018-11-13 15:44:49 | NULL                | NULL       | utf8_general_ci    |     NULL |                |         |
| shirt           | InnoDB |      10 | Dynamic    |    7 |           2340 |       16384 |               0 |            0 |         0 |              8 | 2018-11-13 21:27:50 | 2018-11-13 21:28:42 | NULL       | utf8mb4_0900_ai_ci |     NULL |                |         |
| shop            | InnoDB |      10 | Dynamic    |    7 |           2340 |       16384 |               0 |            0 |         0 |           NULL | 2018-11-13 21:01:31 | 2018-11-13 21:01:32 | NULL       | utf8mb4_0900_ai_ci |     NULL |                |         |
| students        | InnoDB |      10 | Dynamic    |   11 |           1489 |       16384 |               0 |            0 |         0 |           NULL | 2018-11-13 13:41:45 | 2018-11-13 15:03:04 | NULL       | utf8mb4_0900_ai_ci |     NULL |                |         |
| subjects        | InnoDB |      10 | Dynamic    |    3 |           5461 |       16384 |               0 |            0 |         0 |           NULL | 2018-11-13 12:54:41 | 2018-11-13 12:55:45 | NULL       | utf8mb4_0900_ai_ci |     NULL |                |         |
| tcount_tbl      | InnoDB |      10 | Dynamic    |    6 |           2730 |       16384 |               0 |            0 |         0 |           NULL | 2018-11-13 16:13:13 | 2018-11-13 16:22:56 | NULL       | utf8mb4_0900_ai_ci |     NULL |                |         |
| teachers        | InnoDB |      10 | Dynamic    |    4 |           4096 |       16384 |               0 |            0 |         0 |           NULL | 2018-11-13 12:54:41 | 2018-11-13 12:55:18 | NULL       | utf8mb4_0900_ai_ci |     NULL |                |         |
| user_login      | InnoDB |      10 | Dynamic    |   21 |            780 |       16384 |               0 |            0 |         0 |           NULL | 2018-11-14 13:12:54 | 2018-11-14 11:07:12 | NULL       | utf8mb4_0900_ai_ci |     NULL |                |         |
+-----------------+--------+---------+------------+------+----------------+-------------+-----------------+--------------+-----------+----------------+---------------------+---------------------+------------+--------------------+----------+----------------+---------+
18 rows in set (0.00 sec)


查看/启用调度器并创建调度
mysql> SHOW VARIABLES LIKE '%scheduler%';
+-----------------+-------+
| Variable_name   | Value |
+-----------------+-------+
| event_scheduler | ON    |
+-----------------+-------+
1 row in set (0.00 sec)

mysql>

mysql> CREATE EVENT purge_binary_logs ON SCHEDULE EVERY 1 DAY DO PURGE BINARY LOGS BEFORE DATE_SUB(NOW( ),INTERVAL 3 DAY);
Query OK, 0 rows affected (0.09 sec)

mysql> SHOW EVENTS;
+-------+-------------------+----------------+-----------+-----------+------------+----------------+----------------+---------------------+------+---------+------------+----------------------+----------------------+--------------------+
| Db    | Name              | Definer        | Time zone | Type      | Execute at | Interval value | Interval field | Starts              | Ends | Status  | Originator | character_set_client | collation_connection | Database Collation |
+-------+-------------------+----------------+-----------+-----------+------------+----------------+----------------+---------------------+------+---------+------------+----------------------+----------------------+--------------------+
| world | purge_binary_logs | root@localhost | SYSTEM    | RECURRING | NULL       |              1 | DAY            | 2018-11-14 16:03:55 | NULL | ENABLED |          1 | cp852                | cp852_general_ci     | utf8mb4_0900_ai_ci |
+-------+-------------------+----------------+-----------+-----------+------------+----------------+----------------+---------------------+------+---------+------------+----------------------+----------------------+--------------------+
1 row in set (0.01 sec)

mysql>
mysql> SELECT @@event_scheduler;
+-------------------+
| @@event_scheduler |
+-------------------+
| ON                |
+-------------------+
1 row in set (0.00 sec)

mysql> SHOW PROCESSLIST;
+----+-----------------+-----------------+-------+---------+------+-----------------------------+------------------+
| Id | User            | Host            | db    | Command | Time | State                       | Info             |
+----+-----------------+-----------------+-------+---------+------+-----------------------------+------------------+
|  4 | event_scheduler | localhost       | NULL  | Daemon  |   90 | Waiting for next activation | NULL             |
| 38 | root            | localhost:58458 | world | Sleep   |  196 |                             | NULL             |
| 39 | root            | localhost:58459 | world | Sleep   |  196 |                             | NULL             |
| 40 | root            | localhost:55613 | NULL  | Sleep   | 6691 |                             | NULL             |
| 41 | root            | localhost:55614 | NULL  | Sleep   |    1 |                             | NULL             |
| 42 | root            | localhost:56960 | world | Query   |    0 | starting                    | SHOW PROCESSLIST |
+----+-----------------+-----------------+-------+---------+------+-----------------------------+------------------+
6 rows in set (0.00 sec)

mysql>
mysql> SELECT * FROM information_schema.EVENTS;
+---------------+--------------+-------------------+----------------+-----------+------------+----------------------------------------------------------+------------+------------+----------------+----------------+--------------------------------------------+---------------------+------+---------+---------------+---------------------+---------------------+---------------------+---------------+------------+----------------------+----------------------+--------------------+
| EVENT_CATALOG | EVENT_SCHEMA | EVENT_NAME        | DEFINER        | TIME_ZONE | EVENT_BODY | EVENT_DEFINITION                                         | EVENT_TYPE | EXECUTE_AT | INTERVAL_VALUE | INTERVAL_FIELD | SQL_MODE                                   | STARTS              | ENDS | STATUS  | ON_COMPLETION | CREATED             | LAST_ALTERED        | LAST_EXECUTED       | EVENT_COMMENT | ORIGINATOR | CHARACTER_SET_CLIENT | COLLATION_CONNECTION | DATABASE_COLLATION |
+---------------+--------------+-------------------+----------------+-----------+------------+----------------------------------------------------------+------------+------------+----------------+----------------+--------------------------------------------+---------------------+------+---------+---------------+---------------------+---------------------+---------------------+---------------+------------+----------------------+----------------------+--------------------+
| def           | world        | purge_binary_logs | root@localhost | SYSTEM    | SQL        | PURGE BINARY LOGS BEFORE DATE_SUB(NOW( ),INTERVAL 3 DAY) | RECURRING  | NULL       |              1 | DAY            | STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION | 2018-11-14 16:03:55 | NULL | ENABLED | NOT PRESERVE  | 2018-11-14 16:03:55 | 2018-11-14 16:03:55 | 2018-11-14 15:03:55 |               |          1 | cp852                | cp852_general_ci     | utf8mb4_0900_ai_ci |
+---------------+--------------+-------------------+----------------+-----------+------------+----------------------------------------------------------+------------+------------+----------------+----------------+--------------------------------------------+---------------------+------+---------+---------------+---------------------+---------------------+---------------------+---------------+------------+----------------------+----------------------+--------------------+
1 row in set (0.00 sec)


mysql> describe mysql.user;
+--------------------------+-----------------------------------+------+-----+-----------------------+-------+
| Field                    | Type                              | Null | Key | Default               | Extra |
+--------------------------+-----------------------------------+------+-----+-----------------------+-------+
| Host                     | char(60)                          | NO   | PRI |                       |       |
| User                     | char(32)                          | NO   | PRI |                       |       |
| Select_priv              | enum('N','Y')                     | NO   |     | N                     |       |
| Insert_priv              | enum('N','Y')                     | NO   |     | N                     |       |
| Update_priv              | enum('N','Y')                     | NO   |     | N                     |       |
| Delete_priv              | enum('N','Y')                     | NO   |     | N                     |       |
| Create_priv              | enum('N','Y')                     | NO   |     | N                     |       |
| Drop_priv                | enum('N','Y')                     | NO   |     | N                     |       |
| Reload_priv              | enum('N','Y')                     | NO   |     | N                     |       |
| Shutdown_priv            | enum('N','Y')                     | NO   |     | N                     |       |
| Process_priv             | enum('N','Y')                     | NO   |     | N                     |       |
| File_priv                | enum('N','Y')                     | NO   |     | N                     |       |
| Grant_priv               | enum('N','Y')                     | NO   |     | N                     |       |
| References_priv          | enum('N','Y')                     | NO   |     | N                     |       |
| Index_priv               | enum('N','Y')                     | NO   |     | N                     |       |
| Alter_priv               | enum('N','Y')                     | NO   |     | N                     |       |
| Show_db_priv             | enum('N','Y')                     | NO   |     | N                     |       |
| Super_priv               | enum('N','Y')                     | NO   |     | N                     |       |
| Create_tmp_table_priv    | enum('N','Y')                     | NO   |     | N                     |       |
| Lock_tables_priv         | enum('N','Y')                     | NO   |     | N                     |       |
| Execute_priv             | enum('N','Y')                     | NO   |     | N                     |       |
| Repl_slave_priv          | enum('N','Y')                     | NO   |     | N                     |       |
| Repl_client_priv         | enum('N','Y')                     | NO   |     | N                     |       |
| Create_view_priv         | enum('N','Y')                     | NO   |     | N                     |       |
| Show_view_priv           | enum('N','Y')                     | NO   |     | N                     |       |
| Create_routine_priv      | enum('N','Y')                     | NO   |     | N                     |       |
| Alter_routine_priv       | enum('N','Y')                     | NO   |     | N                     |       |
| Create_user_priv         | enum('N','Y')                     | NO   |     | N                     |       |
| Event_priv               | enum('N','Y')                     | NO   |     | N                     |       |
| Trigger_priv             | enum('N','Y')                     | NO   |     | N                     |       |
| Create_tablespace_priv   | enum('N','Y')                     | NO   |     | N                     |       |
| ssl_type                 | enum('','ANY','X509','SPECIFIED') | NO   |     |                       |       |
| ssl_cipher               | blob                              | NO   |     | NULL                  |       |
| x509_issuer              | blob                              | NO   |     | NULL                  |       |
| x509_subject             | blob                              | NO   |     | NULL                  |       |
| max_questions            | int(11) unsigned                  | NO   |     | 0                     |       |
| max_updates              | int(11) unsigned                  | NO   |     | 0                     |       |
| max_connections          | int(11) unsigned                  | NO   |     | 0                     |       |
| max_user_connections     | int(11) unsigned                  | NO   |     | 0                     |       |
| plugin                   | char(64)                          | NO   |     | caching_sha2_password |       |
| authentication_string    | text                              | YES  |     | NULL                  |       |
| password_expired         | enum('N','Y')                     | NO   |     | N                     |       |
| password_last_changed    | timestamp                         | YES  |     | NULL                  |       |
| password_lifetime        | smallint(5) unsigned              | YES  |     | NULL                  |       |
| account_locked           | enum('N','Y')                     | NO   |     | N                     |       |
| Create_role_priv         | enum('N','Y')                     | NO   |     | N                     |       |
| Drop_role_priv           | enum('N','Y')                     | NO   |     | N                     |       |
| Password_reuse_history   | smallint(5) unsigned              | YES  |     | NULL                  |       |
| Password_reuse_time      | smallint(5) unsigned              | YES  |     | NULL                  |       |
| Password_require_current | enum('N','Y')                     | YES  |     | NULL                  |       |
+--------------------------+-----------------------------------+------+-----+-----------------------+-------+
50 rows in set (0.00 sec)


查看用户权限：
mysql> select Host, User from mysql.user;
+-----------+------------------+
| Host      | User             |
+-----------+------------------+
| localhost | mysql.infoschema |
| localhost | mysql.session    |
| localhost | mysql.sys        |
| localhost | root             |
+-----------+------------------+
4 rows in set (0.00 sec)

mysql>


查看用户

查看用户并没有直接的SQL语句，而是进入 mysql数据库的user表（这个mysql库和user表都是一开始就有的），
直接用 select * from user；来查看有什么用户
--------------------- 
作者：ZJE_ANDY 
来源：CSDN 
原文：https://blog.csdn.net/u014453898/article/details/55064312 
版权声明：本文为博主原创文章，转载请附上博文链接！

mysql> select * from user;
+-----------+------------------+-------------+-------------+-------------+-------------+-------------+-----------+-------------+---------------+--------------+-----------+------------+-----------------+------------+------------+--------------+------------+-----------------------+------------------+--------------+-----------------+------------------+------------------+----------------+---------------------+--------------------+------------------+------------+--------------+------------------------+----------+------------+-------------+--------------+---------------+-------------+-----------------+----------------------+-----------------------+------------------------------------------------------------------------+------------------+-----------------------+-------------------+----------------+------------------+----------------+------------------------+---------------------+--------------------------+
| Host      | User             | Select_priv | Insert_priv | Update_priv | Delete_priv | Create_priv | Drop_priv | Reload_priv | Shutdown_priv | Process_priv | File_priv | Grant_priv | References_priv | Index_priv | Alter_priv | Show_db_priv | Super_priv | Create_tmp_table_priv | Lock_tables_priv | Execute_priv | Repl_slave_priv | Repl_client_priv | Create_view_priv | Show_view_priv | Create_routine_priv | Alter_routine_priv | Create_user_priv | Event_priv | Trigger_priv | Create_tablespace_priv | ssl_type | ssl_cipher | x509_issuer | x509_subject | max_questions | max_updates | max_connections | max_user_connections | plugin                | authentication_string                                                  | password_expired | password_last_changed | password_lifetime | account_locked | Create_role_priv | Drop_role_priv | Password_reuse_history | Password_reuse_time | Password_require_current |
+-----------+------------------+-------------+-------------+-------------+-------------+-------------+-----------+-------------+---------------+--------------+-----------+------------+-----------------+------------+------------+--------------+------------+-----------------------+------------------+--------------+-----------------+------------------+------------------+----------------+---------------------+--------------------+------------------+------------+--------------+------------------------+----------+------------+-------------+--------------+---------------+-------------+-----------------+----------------------+-----------------------+------------------------------------------------------------------------+------------------+-----------------------+-------------------+----------------+------------------+----------------+------------------------+---------------------+--------------------------+
| localhost | mysql.infoschema | Y           | N           | N           | N           | N           | N         | N           | N             | N            | N         | N          | N               | N          | N          | N            | N          | N                     | N                | N            | N               | N                | N                | N              | N                   | N                  | N                | N          | N            | N                      |          |            |             |              |             0 |           0 |               0 |                    0 | caching_sha2_password | $A$005$THISISACOMBINATIONOFINVALIDSALTANDPASSWORDTHATMUSTNEVERBRBEUSED | N                | 2018-11-07 12:33:30   |              NULL | Y              | N                | N              |                   NULL |                NULL | NULL                     |
| localhost | mysql.session    | N           | N           | N           | N           | N           | N         | N           | N             | N            | N         | N          | N               | N          | N          | N            | Y          | N                     | N                | N            | N               | N                | N                | N              | N                   | N                  | N                | N          | N            | N                      |          |            |             |              |             0 |           0 |               0 |                    0 | caching_sha2_password | $A$005$THISISACOMBINATIONOFINVALIDSALTANDPASSWORDTHATMUSTNEVERBRBEUSED | N                | 2018-11-07 12:33:30   |              NULL | Y              | N                | N              |                   NULL |                NULL | NULL                     |
| localhost | mysql.sys        | N           | N           | N           | N           | N           | N         | N           | N             | N            | N         | N          | N               | N          | N          | N            | N          | N                     | N                | N            | N               | N                | N                | N              | N                   | N                  | N                | N          | N            | N                      |          |            |             |              |             0 |           0 |               0 |                    0 | caching_sha2_password | $A$005$THISISACOMBINATIONOFINVALIDSALTANDPASSWORDTHATMUSTNEVERBRBEUSED | N                | 2018-11-07 12:33:30   |              NULL | Y              | N                | N              |                   NULL |                NULL | NULL                     |
| localhost | root             | Y           | Y           | Y           | Y           | Y           | Y         | Y           | Y             | Y            | Y         | Y          | Y               | Y          | Y          | Y            | Y          | Y                     | Y                | Y            | Y               | Y                | Y                | Y              | Y                   | Y                  | Y                | Y          | Y            | Y                      |          |            |             |              |             0 |           0 |               0 |                    0 | caching_sha2_password | $A$005$XT?(Kjy=rcT?d!eRQGDTUtoBp0Zx12B6znkkk616LbZsj6ktkxUigimIA    | N                | 2018-11-07 12:33:37   |              NULL | N              | Y                | Y              |                   NULL |                NULL | NULL                     |
+-----------+------------------+-------------+-------------+-------------+-------------+-------------+-----------+-------------+---------------+--------------+-----------+------------+-----------------+------------+------------+--------------+------------+-----------------------+------------------+--------------+-----------------+------------------+------------------+----------------+---------------------+--------------------+------------------+------------+--------------+------------------------+----------+------------+-------------+--------------+---------------+-------------+-----------------+----------------------+-----------------------+------------------------------------------------------------------------+------------------+-----------------------+-------------------+----------------+------------------+----------------+------------------------+---------------------+--------------------------+
4 rows in set (0.00 sec)

mysql>
mysql> select User,Host,authentication_string from user;
+------------------+-----------+------------------------------------------------------------------------+
| User             | Host      | authentication_string                                                  |
+------------------+-----------+------------------------------------------------------------------------+
| mysql.infoschema | localhost | $A$005$THISISACOMBINATIONOFINVALIDSALTANDPASSWORDTHATMUSTNEVERBRBEUSED |
| mysql.session    | localhost | $A$005$THISISACOMBINATIONOFINVALIDSALTANDPASSWORDTHATMUSTNEVERBRBEUSED |
| mysql.sys        | localhost | $A$005$THISISACOMBINATIONOFINVALIDSALTANDPASSWORDTHATMUSTNEVERBRBEUSED |
| root             | localhost | $A$005$XT?(Kjy=rcT?d!eRQGDTUtoBp0Zx12B6znkkk616LbZsj6ktkxUigimIA    |
+------------------+-----------+------------------------------------------------------------------------+
4 rows in set (0.00 sec)

这就是基本的MySQL用户信息，当然还有很多用户授权、锁定、过期等信息.


MySQL中有多种多样的缓存，有的缓存负责缓存查询语句，也有的负责缓存查询数据。
这些缓存内容客户端无法操作，是由server端来维护的。它会随着你查询与修改等相应不同操作进行不断更新。
通过其配置文件我们可以看到在MySQL中的缓存：

mysql> show variables like "%cache%";
+---------------------------------+----------------------+
| Variable_name                   | Value                |
+---------------------------------+----------------------+
| binlog_cache_size               | 32768                |
| binlog_stmt_cache_size          | 32768                |
| have_query_cache                | NO                   |
| host_cache_size                 | 279                  |
| innodb_disable_sort_file_cache  | OFF                  |
| innodb_ft_cache_size            | 8000000              |
| innodb_ft_result_cache_limit    | 2000000000           |
| innodb_ft_total_cache_size      | 640000000            |
| key_cache_age_threshold         | 300                  |
| key_cache_block_size            | 1024                 |
| key_cache_division_limit        | 100                  |
| max_binlog_cache_size           | 18446744073709547520 |
| max_binlog_stmt_cache_size      | 18446744073709547520 |
| schema_definition_cache         | 256                  |
| stored_program_cache            | 256                  |
| stored_program_definition_cache | 256                  |
| table_definition_cache          | 1400                 |
| table_open_cache                | 2000                 |
| table_open_cache_instances      | 16                   |
| tablespace_definition_cache     | 256                  |
| thread_cache_size               | 10                   |
+---------------------------------+----------------------+
21 rows in set (0.00 sec)



// http://www.10tiao.com/html/283/201810/2650864422/1.html
数据库层面问题解决思路

一般应急调优的思路：

针对突然的业务办理卡顿，无法进行正常的业务处理！需要立马解决的场景！

1、show processlist

mysql> show processlist;
+----+-----------------+-----------------+-------+---------+-------+-----------------------------+------------------+
| Id | User            | Host            | db    | Command | Time  | State                       | Info             |
+----+-----------------+-----------------+-------+---------+-------+-----------------------------+------------------+
|  4 | event_scheduler | localhost       | NULL  | Daemon  |  5740 | Waiting for next activation | NULL             |
| 38 | root            | localhost:58458 | world | Sleep   |   446 |                             | NULL             |
| 39 | root            | localhost:58459 | world | Sleep   |   446 |                             | NULL             |
| 40 | root            | localhost:55613 | NULL  | Sleep   | 12341 |                             | NULL             |
| 41 | root            | localhost:55614 | NULL  | Sleep   |     1 |                             | NULL             |
| 42 | root            | localhost:56960 | mysql | Query   |     0 | starting                    | show processlist |
+----+-----------------+-----------------+-------+---------+-------+-----------------------------+------------------+
6 rows in set (0.00 sec)

 
2、explain select id ,name from stu where name='clsn'; # ALL id name age sex
select id,name from stu where id=2-1 函数 结果集>30;
show index from table;

3、通过执行计划判断，索引问题（有没有、合不合理）或者语句本身问题

4、show status like '%lock%'; # 查询锁状态
kill SESSION_ID; # 杀掉有问题的session

mysql> show status like '%lock%';
+------------------------------------------+-------+
| Variable_name                            | Value |
+------------------------------------------+-------+
| Com_lock_instance                        | 0     |
| Com_lock_tables                          | 0     |
| Com_unlock_instance                      | 0     |
| Com_unlock_tables                        | 0     |
| Handler_external_lock                    | 1012  |
| Innodb_row_lock_current_waits            | 0     |
| Innodb_row_lock_time                     | 0     |
| Innodb_row_lock_time_avg                 | 0     |
| Innodb_row_lock_time_max                 | 0     |
| Innodb_row_lock_waits                    | 0     |
| Key_blocks_not_flushed                   | 0     |
| Key_blocks_unused                        | 6698  |
| Key_blocks_used                          | 0     |
| Locked_connects                          | 0     |
| Performance_schema_locker_lost           | 0     |
| Performance_schema_metadata_lock_lost    | 0     |
| Performance_schema_rwlock_classes_lost   | 0     |
| Performance_schema_rwlock_instances_lost | 0     |
| Performance_schema_table_lock_stat_lost  | 0     |
| Table_locks_immediate                    | 15867 |
| Table_locks_waited                       | 0     |
+------------------------------------------+-------+
21 rows in set (0.00 sec)

mysql> 优化思路


定位问题点:
硬件 --> 系统 --> 应用 --> 数据库 --> 架构（高可用、读写分离、分库分表）


处理方向：

明确优化目标、性能和安全的折中、防患未然

硬件优化

主机方面：

根据数据库类型，主机CPU选择、内存容量选择、磁盘选择

平衡内存和磁盘资源

随机的I/O和顺序的I/O

主机 RAID卡的BBU(Battery Backup Unit)关闭


cpu的选择：

cpu的两个关键因素：核数、主频

根据不同的业务类型进行选择：

cpu密集型：计算比较多，OLTP 主频很高的cpu、核数还要多

IO密集型：查询比较，OLAP 核数要多，主频不一定高的


内存的选择：

OLAP类型数据库，需要更多内存，和数据获取量级有关。

OLTP类型数据一般内存是cpu核心数量的2倍到4倍，没有最佳实践。

存储方面：
根据存储数据种类的不同，选择不同的存储设备

配置合理的RAID级别(raid5、raid10、热备盘)

对与操作系统来讲，不需要太特殊的选择，最好做好冗余（raid1）（ssd、sas 、sata）


raid卡：主机raid卡选择：

实现操作系统磁盘的冗余（raid1）

平衡内存和磁盘资源

随机的I/O和顺序的I/O

主机 RAID卡的BBU(Battery Backup Unit)要关闭。


网络设备方面：
使用流量支持更高的网络设备（交换机、路由器、网线、网卡、HBA卡）

注意：以上这些规划应该在初始设计系统时就应该考虑好。

服务器硬件优化

1、物理状态灯：

2、自带管理设备：远程控制卡（FENCE设备：ipmi ilo idarc），开关机、硬件监控。

3、第三方的监控软件、设备（snmp、agent）对物理设施进行监控

4、存储设备：自带的监控平台。EMC2（hp收购了）， 日立（hds），IBM低端OEM hds，高端存储是自己技术，华为存储

系统优化

Cpu：

基本不需要调整，在硬件选择方面下功夫即可。



内存：

基本不需要调整，在硬件选择方面下功夫即可。



SWAP：

MySQL尽量避免使用swap。阿里云的服务器中默认swap为0



IO ：

raid、no lvm、 ext4或xfs、ssd、IO调度策略

Swap调整(不使用swap分区)
